# Release Notes - v0.3.1

## 概述
v0.3.1 是一个专注于 **Agent 稳定性、智谱 AI 集成和 Windows 平台优化** 的增量更新版本。我们对 Agent 的核心逻辑进行了大规模重构，并引入了多项提升开发者体验的功能。

## 🚀 重大更新

### 1. 智谱 AI (GLM) 深度集成
- **原生支持**: 在模型配置中新增智谱 AI 选项。
- **配置引导**: 为新手用户提供直观的 API Key 配置流程，降低上手门槛。
- **全流式支持**: 完美支持智谱 AI 的工具调用（Tool Call）流式响应。

### 2. Agent 架构重构
- **核心模块化**: 将复杂的 Agent 逻辑拆分为格式化器、服务和辅助函数。
- **代码质量**: 减少了近 300 行冗余代码，同时新增 74 个单元测试，确保核心逻辑的健壮性。
- **资源限制**: 引入了 Agent 执行任务时的资源配额系统，有效防止死循环。

### 3. Bash 工具集成
- Agent 现已获得执行本地 Shell 命令的能力。它可以使用 `git`, `npm`, `python`, `java` 等工具进行异步任务处理，极大扩展了 AI 的操作边界。

## ✨ 新特性与优化
- **时间线风格聊天**: 重新设计了聊天面板，采用更现代的时间线视觉风格。
- **智能线程标题**: 根据对话内容自动生成有意义的线程标题，不再全是 "New Chat"。
- **UI 细节**: 优化了消息气泡显示，移除了无效的空回复。
- **E2E 测试增强**: 建立了全新的自动化测试基线，确保长期维护的稳定性。

## 🐞 修复的问题
- 修复了 Windows 平台下的编译和打包错误。
- 修复了 Agent 在流式输出过程中参数解析导致的 UI 刷新延迟。
- 修复了 Rust 后端与前端字段命名不一致导致的撤销功能失效。
- 修复了点击线程标签时页面不必要的滚动/跳动问题。

---
更多详情请参阅 [CHANGELOG.md](../CHANGELOG.md)。
